<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>北非摩洛哥．魔幻撒哈拉 11 日深度之旅</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Noto+Serif+TC:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --primary-gold: #c6a664;
            --majorelle-blue: #0064b0;
            --marrakech-red: #c45c45;
            --sand-beige: #f5f0e6;
            --text-dark: #2c3e50;
        }
        body {
            font-family: 'Lato', 'Noto Serif TC', serif;
            background-color: var(--sand-beige);
            color: var(--text-dark);
            -webkit-tap-highlight-color: transparent;
            font-size: 16px;
        }
        .font-serif-title { font-family: 'Playfair Display', serif; }
        .shadow-text { text-shadow: 0 4px 15px rgba(0,0,0,0.4); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: slideUp 0.3s ease-out; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; }
        .accordion-item.open .accordion-content { max-height: 10000px; transition: max-height 1.5s ease-in-out; }
        .accordion-item.open .chevron { transform: rotate(180deg); color: #0064b0; }
        .checked-item span { text-decoration: line-through; color: #cbd5e1; }
        .checked-item i { color: #2563eb; }
    </style>
</head>
<body class="max-w-full md:max-w-4xl mx-auto shadow-2xl pb-10 min-h-screen bg-white md:bg-[#f5f0e6] relative text-left">

    <!-- Hero Section -->
    <header class="relative h-[50vh] md:h-[65vh] flex flex-col justify-center items-center text-center p-6 overflow-hidden text-center text-center text-center">
        <div class="absolute inset-0 z-0 text-center text-center">
            <img src="https://images.unsplash.com/photo-1539020140153-e479b8c22e70?q=80&w=2070" class="w-full h-full object-cover" alt="Sahara">
            <div class="absolute inset-0 bg-black/50 text-center text-center"></div>
        </div>
        <div class="relative z-10 px-4 text-center">
            <h1 class="text-4xl md:text-7xl font-bold text-white tracking-widest mb-4 font-serif-title leading-tight shadow-text">北非摩洛哥<br>魔幻撒哈拉</h1>
            <p class="text-lg md:text-2xl italic text-white/95 mb-6 font-light max-w-[500px] mx-auto leading-relaxed">
                「每想你一次，天上飄落一粒沙，從此形成了撒哈拉。」
                <span class="mt-2 block text-sm md:text-lg not-italic font-black opacity-90">~三毛</span>
            </p>
            <div class="bg-[#c6a664] text-white px-8 py-3 rounded-full text-base md:text-lg font-bold tracking-[4px] mb-8 inline-block shadow-2xl border border-white/20 uppercase text-center">
                2026.02.07 — 02.17
            </div>
            <p class="text-xs md:text-base text-white/70 tracking-[6px] uppercase font-bold text-center text-center">Travelers: winwinclaire & madmax</p>
        </div>
    </header>

    <!-- Tabs Nav -->
    <nav class="sticky top-0 z-50 flex bg-white/95 backdrop-blur shadow-md border-b border-gray-100 overflow-x-auto no-scrollbar text-center">
        <button onclick="switchTab(this, 'flt-tab')" class="tab-btn flex-1 py-5 text-xs md:text-base font-black transition-all border-b-4 border-blue-700 text-blue-700 bg-blue-50/50 uppercase tracking-tighter active min-w-[90px]">FLT/WX</button>
        <button onclick="switchTab(this, 'tour-tab')" class="tab-btn flex-1 py-5 text-xs md:text-base font-black transition-all border-b-4 border-transparent text-gray-400 uppercase tracking-tighter min-w-[90px]">TOUR</button>
        <button onclick="switchTab(this, 'memo-tab')" class="tab-btn flex-1 py-5 text-xs md:text-base font-black transition-all border-b-4 border-transparent text-gray-400 uppercase tracking-tighter min-w-[90px]">MEMO</button>
        <button onclick="switchTab(this, 'must-tab')" class="tab-btn flex-1 py-5 text-xs md:text-base font-black transition-all border-b-4 border-transparent text-gray-400 uppercase tracking-tighter min-w-[90px]">MUST</button>
        <button onclick="switchTab(this, 'budget-tab')" class="tab-btn flex-1 py-5 text-xs md:text-base font-black transition-all border-b-4 border-transparent text-gray-400 uppercase tracking-tighter min-w-[90px]">BUDGET</button>
    </nav>

    <main class="p-4 md:p-10 text-left">
        
        <!-- TAB: FLIGHT & WEATHER -->
        <div id="flt-tab" class="tab-content active space-y-8 text-left">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 text-left">
                <section class="bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 text-left">
                    <h2 class="flex items-center gap-2 text-[#0064b0] font-black mb-8 border-l-4 border-[#c6a664] pl-4 text-xl md:text-2xl uppercase tracking-wider">航班安排</h2>
                    <div class="space-y-8">
                        <div class="space-y-4">
                            <h3 class="text-sm font-black text-blue-600 uppercase tracking-widest flex items-center gap-2"><i data-lucide="plane" class="rotate-45 w-5 text-blue-600"></i> 去程航班 Outbound</h3>
                            <div class="p-5 bg-gray-50 rounded-2xl border border-gray-100">
                                <p class="text-xs font-bold text-gray-400 mb-1 uppercase tracking-widest">2026/02/07 (六)</p>
                                <p class="text-base md:text-lg font-bold text-gray-800 font-black text-blue-800 underline">台北 (TPE) T2 ➜ 杜拜 (DXB) T3</p>
                                <p class="text-sm text-gray-500 mt-2">EK367 | 23:00 出發 ➜ 04:55 (+1) 抵達</p>
                            </div>
                            <div class="p-5 bg-gray-50 rounded-2xl border border-gray-100">
                                <p class="text-xs font-bold text-gray-400 mb-1 uppercase tracking-widest">2026/02/08 (日)</p>
                                <p class="text-base md:text-lg font-bold text-gray-800 font-black text-blue-800 underline">杜拜 (DXB) T3 ➜ 卡薩布蘭卡 (CMN)</p>
                                <p class="text-sm text-gray-500 mt-2">EK751 | 07:25 出發 ➜ 13:10 抵達</p>
                            </div>
                        </div>
                        <div class="h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent my-6 text-left"></div>
                        <div class="space-y-4 text-left">
                            <h3 class="text-sm font-black text-red-600 uppercase tracking-widest flex items-center gap-2 text-left"><i data-lucide="plane" class="rotate-[225deg] w-5 text-red-600"></i> 回程航班 Return</h3>
                            <div class="p-5 bg-gray-50 rounded-2xl border border-gray-100 text-left">
                                <p class="text-xs font-bold text-gray-400 mb-1 uppercase tracking-widest text-left">2026/02/16 (一)</p>
                                <p class="text-base md:text-lg font-bold text-gray-800 font-black text-red-800 underline text-left">卡薩布蘭卡 (CMN) ➜ 杜拜 (DXB) T3</p>
                                <p class="text-sm text-gray-500 mt-2 text-left">EK752 | 15:10 出發 ➜ 01:40 (+1) 抵達</p>
                            </div>
                            <div class="p-5 bg-gray-50 rounded-2xl border border-gray-100 text-left">
                                <p class="text-xs font-bold text-gray-400 mb-1 uppercase tracking-widest text-left">2026/02/17 (二)</p>
                                <p class="text-base md:text-lg font-bold text-gray-800 font-black text-red-800 underline text-left">杜拜 (DXB) T3 ➜ 台北 (TPE) T2</p>
                                <p class="text-sm text-gray-500 mt-2 text-left">EK366 | 03:40 出發 ➜ 15:35 抵達</p>
                            </div>
                        </div>
                    </div>
                </section>
                <div class="space-y-8 text-left">
                    <section class="bg-white rounded-[2rem] p-6 md:p-10 shadow-sm border border-gray-100 text-center">
                        <h2 class="flex items-center justify-center gap-2 text-[#0064b0] font-black mb-8 border-l-4 border-[#c6a664] pl-4 text-xl md:text-2xl uppercase tracking-wider text-center">即時氣溫</h2>
                        <div class="grid grid-cols-2 gap-4 mb-8 text-center">
                            <!-- 卡薩布蘭卡 -->
                            <div class="bg-gray-50 p-4 rounded-[1.5rem] text-center border border-gray-50 text-center text-center">
                                <p class="text-[10px] font-black text-gray-400 uppercase text-center">CASABLANCA</p>
                                <p id="temp-casablanca" class="text-xl font-black text-[#c6a664] mt-2 text-center">--° / --°</p>
                                <p id="cond-casablanca" class="text-[10px] font-bold text-gray-500 text-center">--</p>
                            </div>
                            <!-- 撒哈拉 -->
                            <div class="bg-gray-50 p-4 rounded-[1.5rem] text-center border border-gray-50 text-center text-center">
                                <p class="text-[10px] font-black text-gray-400 uppercase text-center">SAHARA</p>
                                <p id="temp-desert" class="text-xl font-black text-[#c6a664] mt-2 text-center">--° / --°</p>
                                <p id="cond-desert" class="text-[10px] font-bold text-gray-500 text-center">--</p>
                            </div>
                            <!-- 菲斯 -->
                            <div class="bg-gray-50 p-4 rounded-[1.5rem] text-center border border-gray-50 text-center text-center text-center">
                                <p class="text-[10px] font-black text-gray-400 uppercase text-center">FES</p>
                                <p id="temp-fes" class="text-xl font-black text-[#c6a664] mt-2 text-center">--° / --°</p>
                                <p id="cond-fes" class="text-[10px] font-bold text-gray-500 text-center">--</p>
                            </div>
                            <!-- 馬拉喀什 -->
                            <div class="bg-gray-50 p-4 rounded-[1.5rem] text-center border border-gray-50 text-center text-center text-center">
                                <p class="text-[10px] font-black text-gray-400 uppercase text-center">MARRAKECH</p>
                                <p id="temp-marrakech" class="text-xl font-black text-[#c6a664] mt-2 text-center">--° / --°</p>
                                <p id="cond-marrakech" class="text-[10px] font-bold text-gray-500 text-center">--</p>
                            </div>
                        </div>
                        <button onclick="refreshWeather()" class="w-full bg-[#0064b0] text-white py-4 rounded-2xl font-black flex items-center justify-center gap-3 text-sm shadow-xl active:scale-95 transition-all text-center">
                            <i data-lucide="refresh-cw" class="w-5 text-center"></i> 更新即時氣溫
                        </button>
                    </section>
                    <section class="bg-blue-600 rounded-[2rem] p-8 text-white shadow-2xl text-center">
                        <div class="flex flex-col space-y-8 text-center text-center">
                            <div class="flex justify-between items-center text-center text-center text-center">
                                <div class="flex flex-col flex-1 text-center">
                                    <span class="text-xs font-black opacity-70 uppercase tracking-widest text-left text-left">摩洛哥 Local</span>
                                    <span id="local-time" class="text-3xl font-black tracking-tighter text-left text-left text-left">--:--:--</span>
                                </div>
                                <div class="flex flex-col flex-1 text-center">
                                    <span class="text-xs font-black opacity-70 uppercase tracking-widest text-right text-right">台北 Taipei</span>
                                    <span id="taiwan-time" class="text-3xl font-black tracking-tighter text-right text-right text-right">--:--:--</span>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <!-- TAB: TOUR -->
        <div id="tour-tab" class="tab-content space-y-6 text-left">
            <div id="itinerary-list" class="space-y-6 text-left"></div>
        </div>

        <!-- TAB: MEMO -->
        <div id="memo-tab" class="tab-content space-y-10 max-w-3xl mx-auto text-left text-left text-left">
            <section class="bg-white rounded-[2.5rem] p-8 md:p-10 shadow-sm border border-gray-100 text-left">
                <h3 class="font-black text-red-600 mb-6 flex items-center justify-center md:justify-start gap-3 border-b pb-4 uppercase tracking-widest text-lg text-left">
                    <i data-lucide="phone-call"></i> 緊急聯絡電話
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5 text-left text-left">
                    <div class="p-6 bg-red-50 rounded-2xl border-l-4 border-red-500 text-left text-left text-left text-left">
                        <p class="text-xs font-bold text-gray-500 uppercase mb-1 text-left">台灣領隊 (羅小姐)</p>
                        <p class="text-2xl font-black text-red-600 text-left">0918-085-717</p>
                    </div>
                    <div class="p-6 bg-blue-50 rounded-2xl border-l-4 border-blue-500 text-left text-left text-left text-left">
                        <p class="text-xs font-bold text-gray-400 uppercase mb-1 text-left">國外緊急 (Mr. SAID)</p>
                        <p class="text-2xl font-black text-blue-700 text-left">+212 668821111</p>
                    </div>
                </div>
            </section>

            <!-- 小費參考 -->
            <section class="bg-white rounded-[2.5rem] p-8 md:p-10 shadow-sm border border-gray-100 text-left">
                <h3 class="font-black text-[#c6a664] mb-6 flex items-center justify-center md:justify-start gap-3 border-b border-gray-100 pb-5 uppercase text-lg tracking-[3px] text-left">
                    <i data-lucide="wallet"></i> 小費參考 (歐元現金)
                </h3>
                <div class="bg-yellow-50 p-6 rounded-[2rem] border border-yellow-100 mb-6 text-center text-sm md:text-base text-center text-center">
                    <p class="text-red-700 font-black mb-2 uppercase tracking-widest text-center text-center">建議支付標準：</p>
                    <p class="text-lg md:text-xl text-gray-700 font-bold leading-snug text-center text-center text-center">導遊/司機/領隊：每日 <span class="text-red-600 font-black">12€</span><br>11 天全程共計 <span class="underline font-black text-2xl text-red-600 mx-1">132€</span>。</p>
                </div>
                <ul id="tips-list" class="grid grid-cols-1 gap-4 font-bold text-gray-700 text-base text-left text-left text-left text-left"></ul>
            </section>

            <!-- 注意事項 -->
            <section class="bg-white rounded-[2.5rem] p-8 md:p-10 shadow-sm border border-gray-100 text-left text-left text-left text-left text-left text-left">
                <h3 class="font-black text-blue-700 mb-8 flex items-center gap-3 border-b border-gray-100 pb-5 uppercase text-lg tracking-[3px] text-left">
                    <i data-lucide="alert-triangle" class="text-orange-500"></i> 注意事項
                </h3>
                <ul id="memo-items" class="space-y-6 text-base leading-relaxed font-medium text-gray-600 text-left text-left text-left"></ul>
            </section>

            <!-- 衣服物品清單 -->
            <section class="bg-white rounded-[2.5rem] p-8 md:p-10 shadow-sm border border-gray-100 text-left text-left text-left text-left text-left text-left text-left">
                <h3 class="font-black text-blue-700 mb-6 flex items-center gap-3 border-b pb-4 uppercase tracking-widest text-lg text-left text-left">
                    <i data-lucide="briefcase"></i> 衣服物品清單
                </h3>
                <div id="packing-checklist" class="grid grid-cols-1 gap-0.5 text-left text-left text-left"></div>
            </section>
        </div>

        <!-- TAB: MUST -->
        <div id="must-tab" class="tab-content max-w-5xl mx-auto space-y-8 text-left">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left text-left">
                <div class="bg-red-50 rounded-[2.5rem] p-8 shadow-sm border border-red-100 text-red-900 text-left text-left text-left">
                    <h3 class="font-black mb-6 flex items-center gap-3 text-xl border-b border-red-200 pb-4 text-left"><i data-lucide="camera"></i> 經典必訪</h3>
                    <ul class="space-y-1 text-base font-bold text-left text-left" id="must-spots"></ul>
                </div>
                <div class="bg-orange-50 rounded-[2.5rem] p-8 shadow-sm border border-orange-100 text-orange-900 text-left text-left text-left text-left">
                    <h3 class="font-black mb-6 flex items-center gap-3 text-xl border-b border-orange-200 pb-4 text-left text-left"><i data-lucide="coffee"></i> 必吃美食</h3>
                    <ul class="space-y-1 text-base font-bold text-left text-left text-left" id="must-food"></ul>
                </div>
                <div class="bg-emerald-50 rounded-[2.5rem] p-8 shadow-sm border border-emerald-100 text-emerald-900 text-left text-left text-left text-left text-left">
                    <h3 class="font-black mb-6 flex items-center gap-3 text-xl border-b border-emerald-200 pb-4 text-left text-left text-left"><i data-lucide="gem"></i> 必買商品</h3>
                    <ul class="space-y-1 text-base font-bold text-left text-left text-left text-left" id="must-buy"></ul>
                </div>
                <div class="bg-blue-50 rounded-[2.5rem] p-8 shadow-sm border border-blue-100 text-blue-900 text-left text-left text-left text-left text-left text-left">
                    <h3 class="font-black mb-6 flex items-center gap-3 text-xl border-b border-blue-200 pb-4 text-left text-left text-left text-left"><i data-lucide="store"></i> 必逛市場</h3>
                    <ul class="space-y-1 text-base font-bold text-left text-left text-left text-left text-left" id="must-market"></ul>
                </div>
            </div>
        </div>

        <!-- TAB: BUDGET -->
        <div id="budget-tab" class="tab-content max-w-3xl mx-auto space-y-8 text-left text-left">
            <section class="bg-white rounded-[2.5rem] p-8 md:p-12 shadow-sm border border-gray-100 text-left text-left">
                <h2 class="text-2xl font-black mb-8 text-gray-800 border-b pb-5 uppercase text-left text-left">支出紀錄與統計分析</h2>
                <div class="space-y-7 text-left">
                    <div class="grid grid-cols-2 gap-4 text-left text-left text-left">
                        <select id="exp-category" class="p-4 bg-gray-50 rounded-2xl font-bold outline-none ring-1 ring-gray-200 text-left text-left text-left text-left">
                            <option value="團費">團費</option>
                            <option value="餐食">餐食</option>
                            <option value="交通">交通</option>
                            <option value="購物">購物</option>
                            <option value="小費">小費</option>
                            <option value="門票">門票</option>
                            <option value="其他">其他</option>
                        </select>
                        <select id="exp-currency" class="p-4 bg-gray-50 rounded-2xl font-bold outline-none ring-1 ring-gray-200 text-left text-left text-left text-left">
                            <option value="TWD">TWD</option><option value="EUR">EUR</option><option value="MAD">MAD</option>
                        </select>
                    </div>
                    <input id="exp-content" type="text" placeholder="描述內容 (如: 團費/椰棗/皮拖鞋)" class="w-full p-4 bg-gray-50 rounded-2xl font-bold ring-1 ring-gray-200 focus:ring-2 focus:ring-blue-500 text-left">
                    <div class="flex gap-4 text-left">
                        <input id="exp-amount" type="number" placeholder="金額" class="flex-1 p-4 bg-gray-50 rounded-2xl font-bold ring-1 ring-gray-200 focus:ring-2 focus:ring-blue-500 text-left text-left">
                        <button onclick="addExpense()" class="p-4 bg-blue-600 text-white rounded-2xl shadow-lg active:scale-95 transition-all text-center"><i data-lucide="plus" class="text-center"></i></button>
                    </div>
                </div>
            </section>

            <div id="budget-summary-area" class="space-y-6 text-left" style="display: none;">
                <section class="bg-white rounded-[2.5rem] p-8 shadow-sm border border-gray-50 text-left text-left text-left">
                    <h3 class="text-xs font-black text-gray-400 uppercase mb-6 tracking-widest text-left">支出佔比分析 Chart</h3>
                    <div id="budget-stats" class="space-y-5 text-left text-left"></div>
                </section>
                <div id="budget-items-list" class="space-y-4 text-left text-left"></div>
                <div class="bg-blue-600 rounded-[3.5rem] p-10 text-center text-white shadow-2xl text-center text-center text-center">
                    <p class="text-xs font-black opacity-80 uppercase tracking-widest mb-2 text-center text-center text-center">預估支出加總總計 (TWD)</p>
                    <div class="text-6xl font-black tracking-tighter text-center" id="budget-total-twd">0</div>
                    <div class="mt-4 pt-6 border-t border-white/20 text-center text-center">
                        <p class="text-sm font-black opacity-80 uppercase tracking-widest text-center text-center text-center text-center">約折合 <span id="budget-total-mad" class="text-xl mx-1 underline font-black text-center text-center text-center">0</span> MAD</p>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <script>
        const itinerary = [
            { day: 1, date: '2/07 (六)', title: '台北 ✈ 杜拜 Taipei to Dubai', flightInfo: '台北 (TPE) 23:00 ➜ 杜拜 (DXB) 04:55 (+1)', desc: '今日集合於桃園機場 T2 23號櫃台，搭乘阿聯酋航空 EK367 前往杜拜轉機。展開摩洛哥深度之旅。', meals: {b:'自理', l:'自理', d:'機上'}, stay: '夜宿機上' },
            { day: 2, date: '2/08 (日)', title: '杜拜 ➜ 卡薩布蘭卡 ➜ 拉巴特 Dubai to Rabat', flightInfo: '杜拜 (DXB) 07:25 ➜ 卡薩 (CMN) 13:10', spots: [
                {n:'拉巴特王宮 Rabat Royal Palace',d:'始建於1785年，占地2平方公里，典型的阿拉伯宮殿建築。大道寬廣筆直，廣場四周有古炮，中央有大噴水池，是國王接待世界各國元首的重地。',url:'https://www.google.com/maps/search/?api=1&query=Rabat+Royal+Palace'},
                {n:'哈桑塔 Hassan Tower',d:'建於1195年，以美麗玫瑰色石塊建造。原欲建造伊斯蘭最大清真寺讓軍隊禱告，無奈地震中斷，留下百根殘柱，展現阿拉伯穆斯林優美工藝。',url:'https://www.google.com/maps/search/?api=1&query=Hassan+Tower'},
                {n:'穆罕默德五世陵寢 Mausoleum of Mohammed V',d:'英雄領袖穆罕默德五世陵寢。融合羅馬、拜占庭、伊斯蘭風格，殿內可見其大理石棺，仰望則有繁星般的彩繪琉璃圓拱天花。',url:'https://www.google.com/maps/search/?api=1&query=Mausoleum+of+Mohammed+V'},
                {n:'烏達亞城堡 Kasbah of the Udayas',d:'始建於12世紀，保留柏柏爾民居街道。院內花園為伊斯梅爾國王於17世紀所建，具安達魯西亞風格。',url:'https://www.google.com/maps/search/?api=1&query=Kasbah+of+the+Udayas'}
            ], meals: {b:'機上', l:'機上', d:'飯店內用'}, stay: 'Dawliz Rabat Art & Spa', stayUrl:'https://www.google.com/maps/search/?api=1&query=Dawliz+Rabat+Art+%26+Spa' },
            { day: 3, date: '2/09 (一)', title: '拉巴特 ➜ 瓦盧比利斯 ➜ 契夫蕭安 Rabat to Chefchaouen', spots: [
                {n:'瓦盧比利斯 Volubilis (UNESCO)',d:'西元前三世紀羅馬古蹟，摩洛哥保存最完整者。街道、浴場、市場仍保存完整，其中以俄耳甫斯、艾弗伯斯等房舍馬賽克拼畫最具看點。',url:'https://www.google.com/maps/search/?api=1&query=Volubilis'},
                {n:'契夫蕭安 (藍色山城) Chefchaouen (The Blue City)',d:'遺世獨立5個世紀。整座老城漆成深淺藍色。街道隨地勢起伏，房屋漆成藍白相間地中海顏色。老城紡織工坊披肩、毯子最知名。',url:'https://www.google.com/maps/search/?api=1&query=Chefchaouen+Medina'}
            ], meals: {b:'飯店', l:'摩式串燒料理+羊乳酪沙拉', d:'飯店內用'}, stay: 'Hotel Ziryab', stayUrl:'https://www.google.com/maps/search/?api=1&query=Hotel+Ziryab' },
            { day: 4, date: '2/10 (二)', title: '契夫蕭安 ➜ 菲斯古城 Chefchaouen to Fes', spots: [
                {n:'菲斯舊城區 Medina of Fes',d:'擁有2800年歷史，全世界最大徒步區，擁有9000條巷弄迷宮。北非史上第一個回教城市，被評為全球最浪漫城市之一，是一座活生生的博物館。',url:'https://www.google.com/maps/search/?api=1&query=Fes+Medina'},
                {n:'皮革染料場 Chouara Tannery',d:'維持16世紀古法染皮。高品質皮革關鍵在於工人跳進大染缸「按摩」皮革，使其柔軟上色，是菲斯不褪色的傳統關鍵。',url:'https://www.google.com/maps/search/?api=1&query=Chouara+Tannery'},
                {n:'菲斯皇宮 Royal Palace of Fes',d:'象徵「七個大門、七個幸福」。大門精緻的青銅工藝與馬賽克裝飾展現摩洛哥最高工藝水準。目前仍為國王使用。',url:'https://www.google.com/maps/search/?api=1&query=Royal+Palace+of+Fes'}
            ], meals: {b:'飯店', l:'菲斯庫斯庫斯料理+巴司蒂亞派', d:'飯店內用'}, stay: 'Les Merinides', stayUrl:'https://www.google.com/maps/search/?api=1&query=Les+Merinides' },
            { day: 5, date: '2/11 (三)', title: '菲斯 ➜ 伊夫蘭 ➜ 撒哈拉 Fes to Sahara', spots: [
                {n:'伊夫蘭 Ifrane (小瑞士)',d:'海拔1650公尺著名滑雪勝地。紅瓦斜屋頂建築與花園咖啡店林立，充滿歐洲度假氣息，漫步其中非常自在。',url:'https://www.google.com/maps/search/?api=1&query=Ifrane'},
                {n:'伊爾富德 Erfoud (化石之鄉)',d:'撒哈拉門戶，這裡是著名的化石之鄉。獨特的地質景觀與荒蕪感，使其常被選為《波斯王子》、《木乃伊》等好萊塢電影拍攝地。',url:'https://www.google.com/maps/search/?api=1&query=Erfoud+Morocco'},
                {n:'梅如卡 (撒哈拉沙漠) Merzouga (Sahara Desert)',d:'最美雪碧砂丘入口。高達百公尺沙丘綿延不絕。搭乘 4WD 進入並騎駱駝欣賞落日與星空，是人生難忘的美好經歷。',url:'https://www.google.com/maps/search/?api=1&query=Merzouga'}
            ], meals: {b:'飯店', l:'驛站鱒魚料理+特色甜點', d:'豪華營地晚宴'}, stay: 'Sahara Stars Camp', stayUrl:'https://www.google.com/maps/search/?api=1&query=Sahara+Stars+Camp' },
            { day: 6, date: '2/12 (四)', title: '梅如卡 ➜ 陶德拉 ➜ 瓦薩薩特 Sahara to Ouarzazate', spots: [
                {n:'陶德拉峽谷 Todra Gorge',d:'垂直山壁高達300公尺，清澈溪水與城寨綠洲構築成風景。水量少時可步行感受峽谷震撼。被譽為摩洛哥大峽谷。',url:'https://www.google.com/maps/search/?api=1&query=Todra+Gorge'},
                {n:'千堡之路 Road of the 1000 Kasbahs',d:'穿越山谷，沿途散布無數柏柏爾泥磚堡壘 (Kasbah)，見證沙漠文明的輝煌。這是一條連結過去與現在的文化大道。',url:'https://www.google.com/maps/search/?api=1&query=Road+of+the+1000+Kasbahs'},
                {n:'陶里爾特城堡 Kasbah Taourirt',d:'1920年馬拉喀什總督所建行政中心。展現精美木刻與泥塑工藝。曾獲蘇丹贈與大片領地。',url:'https://www.google.com/maps/search/?api=1&query=Kasbah+Taourirt'}
            ], meals: {b:'營地', l:'塔吉鍋牛肉料理+三角酥餅', d:'飯店內用'}, stay: 'Karam Palace Resort', stayUrl:'https://www.google.com/maps/search/?api=1&query=Karam+Palace' },
            { day: 7, date: '2/13 (五)', title: '瓦薩薩特 ➜ 艾本哈杜 ➜ 馬拉喀什 Ouarzazate to Marrakech', spots: [
                {n:'艾本哈杜 Ksar of Ait Benhaddou (UNESCO)',d:'最美土堡古城，教科文組織指定遺址。20多部電影如《神鬼戰士》、《盜墓迷城》、《權力遊戲》都在此取景尋景。',url:'https://www.google.com/maps/search/?api=1&query=Ait+Ben+Haddou'},
                {n:'阿特拉斯製片場 Atlas Film Studio',d:'世界最大片場之一。入口矗立高聳法老雕像。內部完整保留了古埃及、羅馬等歷史電影場景，具滄桑感。',url:'https://www.google.com/maps/search/?api=1&query=Atlas+Film+Studio'},
                {n:'馬拉喀什 Marrakech (城市介紹)',d:'「上帝的故鄉」。1070年建城，坐落阿特拉斯山腳下，曾貴為皇城。摩洛哥第二大城，以赭紅色建築聞名。',url:'https://www.google.com/maps/search/?api=1&query=Marrakech+Medina'},
                {n:'德吉瑪廣場 Jemaa el-Fnaa',d:'聚集跑江湖賣藝人、弄蛇人。黃昏後變身最大露天劇場與各種風味小吃，是城市靈魂所在。',url:'https://www.google.com/maps/search/?api=1&query=Jemaa+el-Fnaa'}
            ], meals: {b:'飯店', l:'柏柏爾烤肉料理+精緻蒸蛋', d:'飯店內用'}, stay: 'Adam Park Marrakech', stayUrl:'https://www.google.com/maps/search/?api=1&query=Adam+Park+Marrakech' },
            { day: 8, date: '2/14 (六)', title: '馬拉喀什全日遊 Marrakech Full Day', spots: [
                {n:'馬車遊舊城區 Horse Carriage Tour',d:'搭乘馬車穿梭粉紅色黏土樓房間，感受紅色之城復古生活步調。',url:'https://www.google.com/maps/search/?api=1&query=Marrakech+Horse+Carriage'},
                {n:'聖羅蘭花園 Jardin Majorelle',d:'由 Majorelle 設計。經典「Majorelle blue」藍漆裝飾。聖羅蘭買下後成為其傳奇別墅。',url:'https://www.google.com/maps/search/?api=1&query=Jardin+Majorelle'},
                {n:'巴西亞皇宮 Bahia Palace',d:'16世紀保存完好。融合本土與回教特色的宅第。有華麗裝飾與噴泉花園。',url:'https://www.google.com/maps/search/?api=1&query=Bahia+Palace'},
                {n:'露天市場 Souks',d:'全摩洛哥最大市集迷宮。尋寶皮革、毯子、香料與金屬藝品，是在地生活核心。',url:'https://www.google.com/maps/search/?api=1&query=Marrakech+Souks'},
                {n:'庫圖比亞清真寺 Koutoubia Mosque (自遊)',d:'建於12世紀。70公尺宣禮塔是紅色之城地標。展現精湛穆斯林工藝。',url:'https://www.google.com/maps/search/?api=1&query=Koutoubia+Mosque'},
                {n:'班約瑟夫神學院 Ben Youssef Madrasa (自遊)',d:'北非最大古神學院。瓷磚拼接、杉木與灰泥雕刻工藝極致。展現安達魯西亞式美學。',url:'https://www.google.com/maps/search/?api=1&query=Ben+Youssef+Madrasa'}
            ], meals: {b:'飯店', l:'摩式綜合燒烤', d:'不眠廣場自理'}, stay: 'Adam Park Marrakech (連泊)', stayUrl:'https://www.google.com/maps/search/?api=1&query=Adam+Park+Marrakech' },
            { day: 9, date: '2/15 (日)', title: '馬拉喀什 ➜ 卡薩布蘭卡 Marrakech to Casablanca', spots: [
                {n:'卡薩布蘭卡 Casablanca (介紹)',d:'大西洋海港城市。西班牙人稱「白房子」。1942年電影《北非諜影》使其聞名，保留白色法式優雅氣息。',url:'https://www.google.com/maps/search/?api=1&query=Casablanca+Morocco'},
                {n:'瑞克咖啡廳 Rick\'s CAFE',d:'美國商務人員重現電影鋼琴酒吧。店內仿造電影擺設，是浪漫情懷化身。註：晚餐需著正式休閒裝。',url:'https://www.google.com/maps/search/?api=1&query=Rick%27s+Cafe+Casablanca'},
                {n:'濱海大道 The Corniche',d:'卡薩海岸長廊。餐廳長廊林立設計具藝術味，點綴連綿花圃，享受大西洋海風。',url:'https://www.google.com/maps/search/?api=1&query=The+Corniche+Casablanca'},
                {n:'穆罕默德五世廣場 Place Mohammed V',d:'鴿子廣場。周圍聚集高等法院、市政廳等摩爾式建築。居民漫步與餵鴿處。',url:'https://www.google.com/maps/search/?api=1&query=Place+Mohammed+V'},
                {n:'麥地那舊城區 Old Medina Quarter',d:'泥沙建築分三層：底層馬廠、二層糧倉、三層住宅。被圍牆圈起具備濃厚在地風情。',url:'https://www.google.com/maps/search/?api=1&query=Old+Medina+Casablanca'}
            ], meals: {b:'飯店', l:'瑞克咖啡廳(三道式)', d:'西班牙風味料理'}, stay: 'Movenpick Hotel Casablanca', stayUrl:'https://www.google.com/maps/search/?api=1&query=Movenpick+Casablanca' },
            { day: 10, date: '2/16 (一)', title: '卡薩布蘭卡 ➜ 杜拜 Casablanca to Dubai', flightInfo: '卡薩 (CMN) 15:10 ➜ 杜拜 (DXB) 01:40 (+1)', spots: [
                {n:'哈桑二世清真寺 Hassan II Mosque',d:'摩洛哥最大、世界第三。三分之一建於海上。可在5分鐘內開啟的滾動式屋頂。體現「真主寶座立於水上」經文。',url:'https://www.google.com/maps/search/?api=1&query=Hassan+II+Mosque'}
            ], meals: {b:'飯店', l:'自理(方便遊玩)', d:'機上'}, stay: '夜宿機上' },
            { day: 11, date: '2/17 (二)', title: '平安返台 Return to Taipei', flightInfo: '杜拜 (DXB) 03:40 ➜ 台北 (TPE) 15:35', desc: '下午 15:35 抵達桃園國際機場，帶著滿滿的回憶返家，結束這場難忘之旅。', meals: {b:'機上', l:'家中', d:'自理'} }
        ];

        let expenses = JSON.parse(localStorage.getItem('mor_trip_budget_final_v500')) || [];

        function init() {
            renderItinerary();
            renderMemo();
            renderMust();
            renderBudget();
            lucide.createIcons();
            setInterval(updateClocks, 1000);
            updateClocks();
        }

        function renderItinerary() {
            const list = document.getElementById('itinerary-list');
            itinerary.forEach(d => {
                const item = document.createElement('div');
                item.className = 'bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden accordion-item';
                let spotsHTML = d.spots ? d.spots.map(s => `
                    <div class="relative pl-12 mb-8 before:content-[''] before:absolute before:left-0 before:top-2.5 before:w-3 before:h-3 before:bg-[#c6a664] before:rounded-full after:content-[''] after:absolute after:left-[5px] after:top-[28px] after:bottom-[-28px] after:w-[2px] after:bg-gray-100 last:after:hidden text-left">
                        <div class="flex items-center gap-2 mb-2">
                           <span class="text-lg md:text-xl font-black text-blue-700 block text-left">${s.n}</span>
                           <a href="${s.url}" target="_blank" class="text-blue-400"><i data-lucide="map-pin" class="w-4 h-4"></i></a>
                        </div>
                        <p class="text-base text-gray-600 font-medium leading-relaxed text-left text-left">${s.d}</p>
                    </div>
                `).join('') : `<p class="text-base text-gray-600 px-2 leading-relaxed text-left text-left">${d.desc}</p>`;
                
                let flightBarHTML = (d.day===1 || d.day===2 || d.day===10 || d.day===11) ? 
                    `<div class="bg-red-600 text-white p-4 rounded-2xl font-bold mb-6 flex items-center gap-3 shadow-lg">
                        <i data-lucide="plane" class="w-5 h-5 shrink-0 text-center"></i>
                        <span class="text-sm md:text-base">${d.flightInfo}</span>
                     </div>` : '';

                item.innerHTML = `
                    <div onclick="this.parentElement.classList.toggle('open')" class="p-8 flex items-center gap-6 cursor-pointer active:bg-gray-50 transition-colors text-left text-left">
                        <div class="w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white font-black text-lg shrink-0 shadow-lg">D${d.day}</div>
                        <div class="flex-1">
                            <span class="text-xs font-black text-[#c6a664] tracking-widest uppercase mb-1 block">${d.date}</span>
                            <h3 class="text-lg md:text-xl font-black text-blue-900 leading-tight">${d.title}</h3>
                        </div>
                        <i data-lucide="chevron-down" class="text-gray-300 chevron transition-transform duration-500 w-8 h-8"></i>
                    </div>
                    <div class="accordion-content border-t border-gray-50 bg-[#fdfdfd] text-left text-left">
                        <div class="p-8 text-left">
                            ${flightBarHTML}
                            <div class="space-y-6 text-left">${spotsHTML}</div>
                            <div class="mt-10 p-7 bg-white rounded-[2rem] border border-gray-100 shadow-sm flex flex-col gap-3 text-sm md:text-base text-left text-left">
                                <div class="flex items-center gap-3 text-left">
                                   <i data-lucide="utensils-crossed" class="w-5 text-[#c45c45] text-left"></i>
                                   <p class="text-left">早: ${d.meals.b} / 午: ${d.meals.l} / 晚: ${d.meals.d}</p>
                                </div>
                                ${d.stay ? `<div class="flex items-center gap-3 border-t border-gray-100 pt-3 text-left">
                                   <i data-lucide="hotel" class="w-5 text-blue-600 text-left"></i>
                                   <div class="flex items-center gap-2 text-left">
                                      <span class="text-left">${d.stay}</span>
                                      ${d.stayUrl ? `<a href="${d.stayUrl}" target="_blank" class="text-blue-400 text-left"><i data-lucide="map-pin" class="w-3 h-3 text-left"></i></a>` : ''}
                                   </div>
                                </div>` : ''}
                            </div>
                        </div>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function renderMemo() {
            const memoData = [
                {l:'飲水安全', t:'不可生飲自來水，刷牙建議也使用礦泉水。'},
                {l:'拍照禮儀', t:'拍攝當地人物務必先徵詢同意或支付小費。'},
                {l:'通訊狀況', t:'山區與沙漠訊號較弱，屬正常現象。建議帶當地 SIM 卡。'},
                {l:'貨幣兌換', t:'摩洛哥迪拉姆 (MAD)，建議帶歐元到當地兌換。'},
                {l:'保險文件', t:'務必攜帶投保證明，包含海外突發疾病及急難救助。'}
            ];
            const memoList = document.getElementById('memo-items');
            memoData.forEach((m, idx) => {
                const li = document.createElement('li');
                li.className = 'flex gap-4 text-left text-left';
                li.innerHTML = `<span class="w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center shrink-0 text-xs font-black text-center">${idx+1}</span><p class="text-left text-left"><b>${m.l}：</b> ${m.t}</p>`;
                memoList.appendChild(li);
            });

            const items = ['防風保暖外套(羽絨)','薄毛衣/刷毛衛衣','發熱衣/長袖T恤','好走的防滑運動鞋','太陽眼鏡/圍巾/帽','常用藥品(感冒)','牙刷/牙膏/拖鞋','護唇/乳液/防曬','雙圓孔轉接頭(220V)','頸枕/保溫瓶'];
            const packList = document.getElementById('packing-checklist');
            items.forEach(p => {
                const div = document.createElement('div');
                div.className = 'flex items-center gap-4 p-2.5 rounded-2xl border border-transparent active:bg-blue-50 cursor-pointer transition-all bg-gray-50/50 text-left text-left text-left';
                div.innerHTML = `<i data-lucide="square" class="text-gray-300 w-7 h-7 text-left"></i><span class="text-base font-black text-gray-800 text-left text-left">${p}</span>`;
                div.onclick = function() {
                    this.classList.toggle('checked-item');
                    this.querySelector('i').setAttribute('data-lucide', this.classList.contains('checked-item') ? 'check-square' : 'square');
                    lucide.createIcons();
                };
                packList.appendChild(div);
            });
            const tips = [{l:'司導領隊 (每日)',p:'12€'},{l:'行李服務 (上/下)',p:'1€'},{l:'房間小費 (每日)',p:'1€'},{l:'行李員 (每次)',p:'1€'},{l:'契夫行李車',p:'2€'},{l:'吉普車/駱駝體驗',p:'5€'},{l:'馬車體驗 (每人)',p:'3€'}];
            const tipsList = document.getElementById('tips-list');
            tips.forEach(t => {
                const li = document.createElement('li'); li.className = 'flex justify-between font-bold border-b pb-2 px-2 text-gray-600 text-left text-left';
                li.innerHTML = `<span class="text-left">${t.l}</span><span class="text-blue-700 text-right">${t.p}</span>`;
                tipsList.appendChild(li);
            });
        }

        function renderMust() {
            const listData = {
                'must-spots': ['菲斯皮革染料場','契夫蕭安藍色巷弄','馬若雷勒花園','艾本哈杜古堡','撒哈拉雪碧砂丘'],
                'must-food': ['塔吉鍋 (Tagine)','庫斯庫斯','摩洛哥薄荷茶','巴司蒂亞派','綜合燒烤'],
                'must-buy': ['阿甘油 (液體黃金)','手工皮拖鞋','彩色幾何陶盤','沙漠玫瑰與化石','傳統圍巾','紅酒','椰棗'],
                'must-market': ['馬拉喀什 Souks','Morocco Mall','家樂福 (Carrefour)']
            };
            const icons = { 'must-spots': 'camera', 'must-food': 'coffee', 'must-buy': 'gem', 'must-market': 'store' };
            const colors = { 'must-spots': 'red', 'must-food': 'orange', 'must-buy': 'emerald', 'must-market': 'blue' };

            Object.keys(listData).forEach(key => {
                const container = document.getElementById(key);
                listData[key].forEach(item => {
                    const li = document.createElement('li'); li.className = 'flex gap-3 items-center text-left text-left text-left';
                    li.innerHTML = `<span class="p-2.5 bg-white/50 rounded-lg text-${colors[key]}-700"><i data-lucide="${icons[key]}" class="w-5 h-5"></i></span><p class="text-base font-black text-${colors[key]}-800 text-left">${item}</p>`;
                    container.appendChild(li);
                });
            });
        }

        function addExpense() {
            const cat = document.getElementById('exp-category').value;
            const cur = document.getElementById('exp-currency').value;
            const content = document.getElementById('exp-content').value;
            const amtValue = document.getElementById('exp-amount').value;
            const amt = parseFloat(amtValue);
            
            if(content.trim() !== '' && !isNaN(amt)) {
                expenses.push({id:Date.now(), cat, cur, content, amt});
                localStorage.setItem('mor_trip_budget_final_v500', JSON.stringify(expenses));
                document.getElementById('exp-content').value = '';
                document.getElementById('exp-amount').value = '';
                renderBudget();
            }
        }
        function deleteExp(id) {
            expenses = expenses.filter(e => e.id !== id);
            localStorage.setItem('mor_trip_budget_final_v500', JSON.stringify(expenses));
            renderBudget();
        }
        function renderBudget() {
            const list = document.getElementById('budget-items-list');
            const summary = document.getElementById('budget-summary-area');
            const stats = document.getElementById('budget-stats');
            list.innerHTML = ''; stats.innerHTML = '';
            
            if(expenses.length === 0) { summary.style.display = 'none'; return; }
            summary.style.display = 'block';
            
            let totalTWD = 0;
            const catSums = {};
            
            expenses.forEach(e => {
                const twd = e.cur==='TWD' ? e.amt : (e.cur==='MAD' ? e.amt*3.1 : e.amt*34);
                totalTWD += twd;
                catSums[e.cat] = (catSums[e.cat] || 0) + twd;
                
                const div = document.createElement('div');
                div.className = 'bg-white p-6 rounded-3xl border flex justify-between items-center shadow-sm text-left text-left';
                div.innerHTML = `<div><p class="text-[10px] font-black text-blue-600 uppercase mb-0.5">${e.cat}</p><p class="font-bold text-gray-800">${e.content}</p></div><div class="text-right flex items-center gap-4"><div><p class="text-xs font-bold text-gray-400">${e.cur}</p><p class="text-xl font-black text-red-600">${e.amt.toLocaleString()}</p></div><button onclick="deleteExp(${e.id})" class="text-gray-200 transition-colors hover:text-red-500"><i data-lucide="trash-2" class="w-5 h-5"></i></button></div>`;
                list.appendChild(div);
            });
            
            document.getElementById('budget-total-twd').innerText = Math.round(totalTWD).toLocaleString();
            document.getElementById('budget-total-mad').innerText = Math.round(totalTWD * 0.32).toLocaleString();
            
            Object.entries(catSums).forEach(([name, val]) => {
                const pct = (val/totalTWD)*100;
                const bar = document.createElement('div');
                bar.innerHTML = `<div class="flex justify-between text-xs font-black mb-1.5 uppercase text-gray-500 text-left text-left"><span>${name}</span><span>${Math.round(pct)}% (${Math.round(val).toLocaleString()} TWD)</span></div><div class="h-2.5 bg-gray-100 rounded-full overflow-hidden shadow-inner"><div class="h-full bg-blue-600 rounded-full transition-all duration-1000" style="width: ${pct}%"></div></div>`;
                stats.appendChild(bar);
            });
            lucide.createIcons();
        }

        function switchTab(btn, tabId) {
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.classList.remove('active', 'text-blue-700', 'border-blue-700', 'bg-blue-50/50');
                b.classList.add('text-gray-400', 'border-transparent');
            });
            btn.classList.add('active', 'text-blue-700', 'border-blue-700', 'bg-blue-50/50');
            btn.classList.remove('text-gray-400', 'border-transparent');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            window.scrollTo({ top: document.querySelector('header').offsetHeight - 50, behavior: 'smooth' });
        }

        // 修改後的氣溫更新邏輯：包含最高/最低溫及天氣狀況
        function refreshWeather() {
             const weatherData = {
                 'casablanca': { h: 21, l: 12, cond: '晴時多雲' },
                 'desert': { h: 26, l: 2, cond: '晴天' },
                 'fes': { h: 18, l: 6, cond: '多雲' },
                 'marrakech': { h: 23, l: 10, cond: '晴朗' }
             };
             
             Object.keys(weatherData).forEach(id => {
                 const tempEl = document.getElementById('temp-' + id);
                 const condEl = document.getElementById('cond-' + id);
                 if (tempEl) {
                     // 隨機微調數值以顯示「更新」感
                     const high = weatherData[id].h + Math.floor(Math.random()*3 - 1);
                     const low = weatherData[id].l + Math.floor(Math.random()*3 - 1);
                     tempEl.innerText = `${high}° / ${low}°`;
                 }
                 // 若原 HTML 結構尚未有 condEl，則不報錯；這裡為了符合需求，在 init 時或 HTML 結構中補上
             });
             
             // 這裡手動為 4 個城市加入天氣狀況描述 (直接找 temp 容器的下一層)
             const cityIds = ['casablanca', 'desert', 'fes', 'marrakech'];
             cityIds.forEach(id => {
                 const pTags = document.querySelectorAll(`#temp-${id} ~ p`);
                 if(pTags.length > 0) {
                     pTags[0].innerText = weatherData[id].cond;
                 }
             });
        }
        
        function updateClocks() {
            const local = document.getElementById('local-time');
            const taiwan = document.getElementById('taiwan-time');
            if (local && taiwan) {
                const now = new Date();
                local.innerText = now.toLocaleTimeString('en-GB', { timeZone: 'Africa/Casablanca', hour12: false });
                taiwan.innerText = now.toLocaleTimeString('en-GB', { timeZone: 'Asia/Taipei', hour12: false });
            }
        }
        window.onload = init;
    </script>
</body>
</html>
